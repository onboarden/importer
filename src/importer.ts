const URL = 'https://app.onboarden.io';

export type OnCompletedResult = {
  rows: { [key: string]: string }[];
  rowArray: string[][];
};

type LaunchArgs = {
  templateId: string;
  jwt?: string;
  onCompleted?: (result: OnCompletedResult) => void;
};

export const launch = ({ templateId, jwt, onCompleted }: LaunchArgs) => {
  const div = document.createElement('div');
  div.style.cssText =
    'position:fixed;top:0;left:0;width:100%;height:100%;z-index:100;background-color:rgba(0,0,0,0.7);padding:40px;box-sizing:border-box;backdrop-filter: blur(4px);';
  document.body.appendChild(div);

  const iframe = document.createElement('iframe');
  iframe.src = encodeURI(`${URL}/t/${templateId}`);
  iframe.style.cssText =
    'width:100%;height:100%;background-color:white;margin:auto;border-radius:10px;border:none;box-shadow:0 0 20px rgba(0,0,0,0.2);';
  iframe.onload = () => {
    iframe.contentWindow?.postMessage({ source: 'onboarden', jwt }, URL);
  };
  div.appendChild(iframe);

  window.addEventListener('message', (event) => {
    if (event.origin !== URL) return;

    switch (event.data.status) {
      case 'succeeded':
        onCompleted && onCompleted({ rows: event.data.rows ?? [], rowArray: event.data.rowArray ?? [] });
        document.body.removeChild(div);
        break;
      case 'failed':
        break;
      default:
        break;
    }
  });

  const closeImage = document.createElement('img');
  closeImage.src =
    'data:image/png;base64,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';

  const closeButton = document.createElement('button');
  closeImage.style.cssText = 'position:fixed;top:8px;right:8px;cursor:pointer;width:28px;';
  closeImage.onclick = () => document.body.removeChild(div);
  div.appendChild(closeImage);
};
